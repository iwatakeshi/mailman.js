(function(){"use strict";function e(){this._done=[],this._fail=[]}function s(e){function s(){if(!e||""===e.api)return void 0;for(var s,o=e.api.split("."),r=0,u=o.length-1;u>r;r++){s=o[r];var i=t[s];if(void 0===i)break;t=i}n.debug(t[o[r]],"Selected API:"),l.api=t[o[r]]}l=Object.extender(l,e),n.debug(l,"Extended:");var t=i;s(),n.debug(l,"Configuration:")}Object.extender=function(e,s){var n;for(n in s)"object"==typeof s[n]?(e[n]=e[n]||{},Object.extender(e[n],s[n])):e[n]=s[n];return e},e.prototype={execute:function(e,s){var n=e.length;for(s=Array.prototype.slice.call(s);n--;)e[n].apply(null,s)},resolve:function(){this.execute(this._done,arguments)},reject:function(){this.execute(this._fail,arguments)},done:function(e){this._done.push(e)},fail:function(e){this._fail.push(e)}};var n,t="undefined"!=typeof module&&module.exports,o="0.0.3",r="https://mandrillapp.com/api/1.0/",u={users:r+"users/",messages:r+"messages/",tags:r+"tags/",rejects:r+"rejects/",whitelists:r+"whitelists/",senders:r+"Senders/",urls:r+"urls/",templates:r+"templates/",webhooks:r+"webhooks/",subaccounts:r+"subaccounts/",inbound:r+"inbound/",exports:r+"exports/",ips:r+"ips/",metadata:r+"metadata/"},i={users:{info:{url:u.users+"info.json"},ping:{url:u.users+"ping.json"},ping2:{url:u.users+"ping2.json"},senders:{url:u.users+"senders.json"}},messages:{send:{url:u.messages+"send.json"},send_templates:{url:u.messages+"send-templates.json"},search:{url:u.messages+"search.json"},search_time_series:{url:u.messages+"search-time-series.json"},info:{url:u.messages+"info.json"},content:{url:u.messages+"content.json"},parse:{url:u.messages+"parse.json"},send_raw:{url:u.messages+"send-raw.json"},list_scheduled:{url:u.messages+"list-scheduled.json"},cancel_scheduled:{url:u.messages+"cancel-scheduled.json"},reschedule:{url:u.messages+"reschedule.json"}},tags:{list:{url:u.tags+"list.json"},"delete":{url:u.tags+"delete.json"},info:{url:u.tags+"info.json"},time_series:{url:u.tags+"time-series.json"},all_time_series:{url:u.tags+"all-time-series.json"}},reject:{add:{url:u.rejects+"add.json"},list:{url:u.rejects+"list.json"},"delete":{url:u.rejects+"delete.json"}},whitelists:{add:{url:u.whitelists+"add.json"},list:{url:u.whitelists+"list.json"},"delete":{url:u.whitelists+"delete.json"}},senders:{list:{url:u.senders+"list.json"},domains:{url:u.senders+"domains.json"},add_domain:{url:u.senders+"add-domain.json"},check_domain:{url:u.senders+"check-domain.json"},verify_domain:{url:u.senders+"verify-domain.json"},info:{url:u.senders+"info.json"},time_series:{url:u.senders+"time-series.json"}},urls:{list:{url:u.urls+"list.json"},search:{url:u.urls+"search.json"},time_series:{url:u.urls+"time-series.json"},tracking_domains:{url:u.urls+"tracking-domains.json"},add_tracking_domain:{url:u.urls+"add-tracking-domain.json"},check_tracking_domain:{url:u.urls+"check-tracking-domain.json"}},templates:{add:{url:u.templates+"add.json"},info:{url:u.templates+"info.json"},update:{url:u.templates+"update.json"},publish:{url:u.templates+"publish.json"},"delete":{url:u.templates+"delete.json"},list:{url:u.templates+"list.json"},time_series:{url:u.templates+"time-series.json"},render:{url:u.templates+"render.json"}},webhooks:{list:{url:u.webhooks+"list.json"},add:{url:u.webhooks+"add.json"},info:{url:u.webhooks+"info.json"},update:{url:u.webhooks+"update.json"},"delete":{url:u.webhooks+"delete.json"}},subaccounts:{list:{url:u.subaccounts+"list.json"},add:{url:u.subaccounts+"add.json"},info:{url:u.subaccounts+"info.json"},update:{url:u.subaccounts+"update.json"},"delete":{url:u.subaccounts+"delete.json"},pause:{url:u.subaccounts+"pause.json"},resume:{url:u.subaccounts+"resume.json"}},inbound:{domains:{url:u.inbound+"inbound.json"},add_domain:{url:u.inbound+"add-domain.json"},check_domain:{url:u.inbound+"check-domain.json"},delete_domain:{url:u.inbound+"delete-domain.json"},routes:{url:u.inbound+"routes.json"},add_route:{url:u.inbound+"add-route.json"},delete_route:{url:u.inbound+"delete-route.json"},send_raw:{url:u.inbound+"send-raw.json"}},exports:{info:{url:u.exports+"info.json"},list:{url:u.exports+"list.json"},rejects:{url:u.exports+"rejects.json"},whitelists:{url:u.exports+"whitelists.json"},activity:{url:u.exports+"activity.json"}},ips:{list:{url:u.ips+"list.json"},info:{url:u.ips+"info.json"},provision:{url:u.ips+"provision.json"},start_warmup:{url:u.ips+"start-warmup.json"},cancel_warmup:{url:u.ips+"cancel-warmup.json"},set_warmup:{url:u.ips+"set-warmup.json"},"delete":{url:u.ips+"delete.json"},list_pools:{url:u.ips+"list-pools.json"},pool_info:{url:u.ips+"pool-info.json"},create_pool:{url:u.ips+"create-pool.json"},delete_pool:{url:u.ips+"delete-pool.json"},check_custom_dns:{url:u.ips+"check-custom-dns.json"},set_custom_dns:{url:u.ips+"set-custom-dns.json"}},metadata:{list:{url:u.metadata+"list.json"},add:{url:u.metadata+"add.json"},update:{url:u.metadata+"update.json"},"delete":{url:u.metadata+"delete.json"}}},l={type:"POST",api:void 0,data:{key:""},debug:!1};n=function(e){return n.isMailman(e)?e=e.value():(0===e||"undefined"==typeof e)&&(e=0),new s(e)},n.version=o,n.isMailman=function(e){return e instanceof s},n.debug=function(e,s){l.debug===!0&&(s&&console.log(s),console.log(e))},n.fn=s.prototype={clone:function(){return n(this)},request:function(){var s,t=require("superagent"),s=new e;return t.post(l.api.url).send(l.data).end(function(e){e.ok?(s.resolve(e),n.debug(JSON.stringify(e.body),"Response:")):n.debug(e.text,"Error reponse:")}),s}},t&&(module.exports=n),"undefined"==typeof ender&&(this.mailman=n),"function"==typeof define&&define.amd&&define([],function(){return n})}).call(this);
